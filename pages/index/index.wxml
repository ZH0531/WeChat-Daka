<view class="container {{isDarkMode ? 'dark-mode' : ''}}">
  <!-- é¡¶éƒ¨æç¤ºä¿¡æ¯ï¼Œæ”¾åˆ°ä¸ŠåŠå±å±…ä¸­ -->
  <view class="top-half">
    <view class="top-tip" style="color: {{timeColor}}">
      ğŸ•’ è·ç¦»ä¸Šæ¬¡æ‰“å¡ï¼š
      <text class="tip-time">{{timeSinceLast.days}} å¤© {{timeSinceLast.hours}} å°æ—¶ {{timeSinceLast.minutes}} åˆ† {{timeSinceLast.seconds}} ç§’</text>
    </view>
  </view>

  <!-- æ‰“å¡è®°å½•åˆ—è¡¨ -->
  <view class="record-list-container">
    <view class="record-header-container">
      <view class="record-header">å†å²æ‰“å¡è®°å½•</view>
      <view class="clear-records" bindtap="clearRecords">æ¸…é™¤å†å²è®°å½•</view>
    </view>
    <scroll-view class="record-list" scroll-y="true" scroll-with-animation="{{true}}" scroll-into-view="{{scrollIntoView}}" enhanced="true" show-scrollbar="false">
      <block wx:for="{{records}}" wx:key="item">
        <view class="record-card {{index === records.length - 1 ? 'record-card-latest' : ''}} {{index === newRecordIndex ? 'new-record' : ''}}" id="record-{{index}}">
          <view class="record-info">
            <text class="record-index">ç¬¬ {{index + 1}} æ¬¡æ‰“å¡</text>
            <text class="record-time">{{item}}</text>
          </view>
          <!-- æ·»åŠ æ’¤å›æŒ‰é’®ï¼Œä½†ä¸æ˜¾ç¤ºåœ¨æœ€åä¸€æ¡è®°å½•ä¸Š -->
          <view wx:if="{{index !== records.length - 1}}" class="revert-btn" bindtap="handleRevert" data-index="{{index}}">â†</view>
        </view>
      </block>
      <view wx:if="{{records.length === 0}}" class="no-record">æš‚æ— æ‰“å¡è®°å½•</view>
    </scroll-view>
  </view>

  <!-- åº•éƒ¨æŒ‰é’® -->
  <view class="button-area">
    <button class="btn-punch" bindtap="handlePunch" hover-class="btn-punch-hover" animation="{{buttonAnimation}}">
      ç«‹å³æ‰“å¡
    </button>
  </view>
</view>
